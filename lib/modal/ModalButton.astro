---
import { generateId5 } from "~/utils/ran/generateId5"
import type { ButtonSize, ButtonVariant } from "~/button/buttonCva"
import Modal from "./Modal.astro"
import { classesTextGray } from "~/text/classesTextGray"
import { classArr } from "~/utils/ui/classArr"
import Button from "~/button/Button.astro"
import type { MayHaveClass } from "~/utils/ui/MayHaveClass"

interface Props extends MayHaveClass {
  button: {
    title?: string
    text?: string
    variant: ButtonVariant
    size?: ButtonSize
    icon?: string
    iconRight?: string
    iconClass?: string
    class?: string
  }
  id?: string
  title?: string
  classContentArea?: string
}
const props = Astro.props
const id = props.id ?? `modal-id-${generateId5()}`
const button = props.button
const title = props.title ?? "Dialog Title"
const classContentArea = props.classContentArea
---

<Button id={id} {...button} />
<Modal
  triggerId={id}
  title={title}
  titleClass={classArr(classesTextGray, "text-xl", "mb-2")}
  class={props.class}
  classContentArea={classContentArea}
>
  <slot />
</Modal>
