---
import { classArr } from "~ui/utils/ui/classArr"
import type { ImageType } from "./ImageType"
import Img from "./Img.astro"
import { classInvertBlack } from "~ui/img/classInvertBlack"

interface Props {
  img: ImageType
  zoomIn?: boolean
  invertColorsInDarkMode?: boolean
  class?: string
  src?: string
  srcPrefix?: string
}
const p = Astro.props
const isSvg = p.img.path.endsWith(".svg")
// const invert = isSvg && p.invertColorsInDarkMode
const invert = p.invertColorsInDarkMode

function imageUrl(p: string) {
  return "/media-b2/" + p
}
---

<Img
  src={(p.src ?? p.srcPrefix) ? p.srcPrefix + p.img.path : imageUrl(p.img.path)}
  alt={p.img.alt}
  class={classArr(invert ? classInvertBlack : "", p.class)}
  width={isSvg ? null : p.img.width}
  height={isSvg ? null : p.img.height}
/>
