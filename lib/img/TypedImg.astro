---
import { classArr } from "~/utils/ui/classArr"
import type { ImageType } from "./ImageType"
import Img from "./Img.astro"
import { classInvertBlack } from "~/img/classInvertBlack"
import type { MayHaveClass } from "~/utils/ui/MayHaveClass"

interface Props extends MayHaveClass {
  img: ImageType
  zoomIn?: boolean
  invertColorsInDarkMode?: boolean
}
const p = Astro.props
const isSvg = p.img.path.endsWith(".svg")
// const invert = isSvg && p.invertColorsInDarkMode
const invert = p.invertColorsInDarkMode

function imageUrl(p: string) {
  return "/media-b2/" + p
}
---

<Img
  src={imageUrl(p.img.path)}
  alt={p.img.alt}
  class={classArr(invert ? classInvertBlack : "", p.class)}
  width={isSvg ? null : p.img.width}
  height={isSvg ? null : p.img.height}
/>
