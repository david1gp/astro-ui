---
import { buttonCva2, buttonVariant, type ButtonSize, type ButtonVariant } from "~ui/button/buttonCva"
import { buttonIconCva } from "~ui/button/buttonIconCva"
import { classesButtonClickAnimation } from "~ui/button/classesButtonClickAnimation"
import Icon from "~ui/icon/Icon.astro"

interface Props {
  title?: string
  href: string
  variant?: ButtonVariant
  size?: ButtonSize
  icon?: string
  iconRight?: string
  iconClass?: string
  newTab?: boolean
  class?: string
  id?: string
  clickAnimation?: boolean
}
const props = Astro.props
const hasChildren = Astro.slots.has("default")
const classes = buttonCva2(
  props.variant ?? buttonVariant.link,
  props.size,
  props.clickAnimation ?? classesButtonClickAnimation,
  props.class,
)
---

<a href={props.href} class={classes} target={props.newTab ? "_blank" : undefined} id={props.id} title={props.title}>
  {
    props.icon && (
      <Icon
        path={props.icon}
        class={buttonIconCva(props.variant ?? "link", (props.title || hasChildren) && "mr-2", props.iconClass)}
      />
    )
  }
  <slot />
  {
    props.iconRight && (
      <Icon
        path={props.iconRight}
        class={buttonIconCva(props.variant ?? "link", (props.title || hasChildren) && "ml-2", props.iconClass)}
      />
    )
  }
</a>
